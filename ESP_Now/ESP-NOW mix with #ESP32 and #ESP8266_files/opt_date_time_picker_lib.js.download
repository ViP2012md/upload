!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.OptDateTimePicker=t():e.OptDateTimePicker=t()}(self,(()=>(()=>{var e={952:(e,t,i)=>{i(650),e.exports=i(825).default},825:(e,t,i)=>{"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,r=void 0,r=function(e,t){if("object"!==a(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===a(r)?r:String(r)),n)}var o,r}i.d(t,{default:()=>c});var s=function(){function e(t,i){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inputEl=t,this.options=i||{twelveHour:!0},i.isFormDate){var a=document.body;a&&!a.style.minHeight&&(a.style.minHeight="450px")}if(this.yearRange=20,this.options.minimumYear=i.minimumYear||1900,i.yearRange&&(Array.isArray(i.yearRange)?(this.yearRange=i.yearRange[1]-i.yearRange[0],this.options.minimumYear=i.yearRange[0],this.options.maximumYear=i.yearRange[1]):this.yearRange=i.yearRange),this.timeZoneList=this.options.timeZoneList||window.op&&window.op.timeZoneList,this._initializeInternalValues(),this.element=this._buildAndAppendPickerMarkup(),this.options.extraClasses){var o,r=this.options.extraClasses.split(" ");(o=this.element.classList).add.apply(o,n(r))}if(this.guid="opt-dt-"+this.generateGuid(),this.element.classList.add(this.guid),this.options.displayPickerInline?this.element.classList.add("opt-date-time-picker--inline"):this.positionPicker(),this.options.showTodayButton&&this.element.classList.add("opt-date-time-picker--show-today"),this.options.isDateOnly)this.element.classList.add("opt-date-time-picker--date-only");else{var s=this.element.querySelector('.opt-date-time-picker__picker-menu--time-zone .opt-date-time-picker__picker-menu-item[data-val="'.concat(this.getValProperty("time-zone"),'"]'));s&&s.classList.add("opt-date-time-picker__menu-item--active")}this.options.twelveHour||this.element.classList.add("opt-date-time-picker--24-hour"),"china-date"===this.options.dateFormat&&this.centerSelectedDropdownMenuItem("year"),this.datePicker=this._initDatePicker(),this.options.isDateOnly||(this.timePicker=this._initTimePicker(),Array.prototype.slice.call(this.element.querySelectorAll(".timepicker-tick")).forEach((function(e){var t=e.innerText;1===t.length&&(t="0"+t),e.setAttribute("data-time-value",t)})),this._setTimeActiveStates()),this.datePicker.open(),this.options.isDateOnly||this.timePicker.open(),this._bindPickerEvents()}var t,i,a;return t=e,a=[{key:"convertTimeStampAndTimeZoneToDateTimeString",value:function(t,i,a,n){var o=new Date(t),r=e.getDateObjectProperty(o,"month",!0),s=e.getDateObjectProperty(o,"day",!0),c=e.getDateObjectProperty(o,"year",!0),l="";if(a&&"china-date"===a.dateFormat?l+="".concat(c,"/").concat(r,"/").concat(s," "):a&&"euro-date"===a.dateFormat?l+="".concat(s,"/").concat(r,"/").concat(c," "):l+="".concat(r,"/").concat(s,"/").concat(c," "),!n){var d=e.getDateObjectProperty(o,"hour",!0,a&&a.twelveHour),p=e.getDateObjectProperty(o,"minute",!0);l+="".concat(d,":").concat(p," "),a&&a.twelveHour&&(l+=e.getDateObjectProperty(o,"time-period",!0)+" "),l+=i}return l}},{key:"getDateObjectProperty",value:function(e,t,i,a){var n;switch(t){case"month":n=e.getMonth(),i&&1===(n=""+ ++n).length&&(n="0"+n);break;case"day":n=e.getDate(),i&&1===(n=""+n).length&&(n="0"+n);break;case"year":n=e.getFullYear();break;case"hour":n=e.getHours(),i&&(a&&(n>12?n-=12:0===n&&(n=12)),1===(n=""+n).length&&(n="0"+n));break;case"minute":n=e.getMinutes(),i&&1===(n=""+n).length&&(n="0"+n);break;case"time-period":n=e.getHours()<12?"am":"pm",i&&(n=n.toUpperCase())}return n}},{key:"dateTimeFieldClickHandler",value:function(t){var i=t.currentTarget,a=i.querySelector(".opt-date-time-field");if(i.classList.contains("opt-date-time__picker--open")){i.classList.remove("opt-date-time__picker--open");var n=i.querySelector(".opt-date-time-field__hidden-field"),o=!1;t.target.classList.contains("opt-date-time__icon--x")&&(a.value="",a.setAttribute("data-timeZone",""),n.value="",o=!0);var r=a.dateTimePicker;if(r){if(!o){var s=r.getSaveData();a.value=s.dateTimeString,a.setAttribute("data-timeZone",s.timeZone),n.value=Math.floor(s.timestamp/1e3)}r.destroy(),a.dateTimePicker=null}"default"===i.getAttribute("opt-input-style")&&""===a.value&&i.querySelector(".opt-input__label").classList.remove("active")}else{var c=e.JSONParse(a.dataset.datepickeroptions),l=i.querySelector(".opt-date-time-field__hidden-field").value,d={dateFormat:"usa-date",twelveHour:!0,initialTimeZone:a.getAttribute("data-timeZone")||Intl.DateTimeFormat().resolvedOptions().timeZone,timeZoneList:window.op&&window.op.timeZoneList,isDateOnly:c&&c.isDateOnly||!1,isFormDate:c&&c.isFormDate||!1};window.op&&op.dateFormat&&op.dateFormat.date_format&&(d.dateFormat=op.dateFormat.date_format),window.op&&op.dateFormat&&op.dateFormat.time_format&&"24-hour"===op.dateFormat.time_format&&(d.twelveHour=!1),l&&(d.initialValue=1e3*+l),a.dateTimePicker=new e(a,d),i.classList.add("opt-date-time__picker--open"),"default"===i.getAttribute("opt-input-style")&&i.querySelector(".opt-input__label").classList.add("active")}}},{key:"JSONParse",value:function(e){if(!("string"==typeof e||e instanceof String))return e;try{return JSON.parse(e)}catch(t){return e}}},{key:"dateTimeFieldSaveHandler",value:function(e){var t=e.detail||e.originalEvent.detail,i=e.currentTarget,a=i.querySelector(".opt-date-time-field");if(i.classList.remove("opt-date-time__picker--open"),/iPad|iPhone|iPod|Android/.test(window.navigator.userAgent)&&a.setAttribute("type","text"),a.value=t.dateTimeString,t.timeZone&&a.setAttribute("data-timeZone",t.timeZone),t.timestamp){var n=e.target.dataset.datepickeroptions;if("string"==typeof n||n instanceof String)try{n=JSON.parse(n)}catch(e){}if(n&&n.isDateOnly){var o=new Date(t.timestamp);i.querySelector(".opt-date-time-field__hidden-field").value=o.setHours(12,0,0,0)/1e3}else i.querySelector(".opt-date-time-field__hidden-field").value=Math.floor(t.timestamp/1e3)}a.dateTimePicker=null}},{key:"dateTimeFieldCancelHandler",value:function(e){var t=e.currentTarget,i=t.querySelector(".opt-date-time-field");t.classList.remove("opt-date-time__picker--open"),i.dateTimePicker=null,"default"===t.getAttribute("opt-input-style")&&""===i.value&&t.querySelector(".opt-input__label").classList.remove("active")}}],(i=[{key:"getDialog",value:function(){return this.inputEl.closest("op-dialog")||!1}},{key:"positionPicker",value:function(){var e,t=this.inputEl.getBoundingClientRect(),i=this.element.getBoundingClientRect(),a=this.getDialog();e=a?a.offsetHeight>document.documentElement.clientHeight?a.offsetHeight:document.documentElement.clientHeight:document.body.offsetHeight>document.documentElement.clientHeight?document.body.offsetHeight:document.documentElement.clientHeight;var n=0,o=0;if(a){var r=a.getBoundingClientRect();(n=t.top+t.height)+i.height>e&&(n=t.top-i.height),n>0?n-=r.top:n=0-r.top,(o=t.left)+i.width>document.body.offsetWidth&&(o=t.left+t.width-i.width),o>0?o-=r.left:o=0-r.left}else(n=t.top+window.scrollY+t.height)+i.height>e&&(n=t.top+window.scrollY-i.height),(o=t.left+window.scrollX)+i.width>document.body.offsetWidth&&(o=t.left+window.scrollX+t.width-i.width),n<0&&(n=0),o<0&&(o=0);this.element.style.top=n+"px",this.element.style.left=o+"px"}},{key:"save",value:function(){var e=this.getSaveData();this.options.updateInput&&(this.inputEl.value=e.dateTimeString),this.inputEl.dispatchEvent(new CustomEvent("dateTimePickerSave",{detail:e,bubbles:!0})),this.destroy()}},{key:"getSaveData",value:function(){var e=this._val.getTime();if(!this.options.isDateOnly){var t=this.getTimeZoneOffsetValue(Intl.DateTimeFormat().resolvedOptions().timeZone),i=this.getTimeZoneOffsetValue(this._timeZone);t!==i&&(e+=60*(t-i)*60*1e3)}var a={dateFormat:this.options.dateFormat,twelveHour:this.options.twelveHour},n="";this.options.isDateOnly||(n=this.getValProperty("time-zone",!0));var o={dateTimeString:this.constructor.convertTimeStampAndTimeZoneToDateTimeString(this._val.getTime(),n,a,this.options.isDateOnly),timestamp:e};return this.options.isDateOnly||(o.timeZone=this.getValProperty("time-zone"),o.offset=this._val.getTimezoneOffset()),o}},{key:"destroy",value:function(){this.element&&(this.element.querySelector(".opt-date-time-picker__control-bar").removeEventListener("click",this._boundControlBarEvent),this.element.removeEventListener("dateTimePickerSelect",this._boundDateTimePickerEvent),this.element.querySelector(".opt-date-time-picker__picker-menu--year").removeEventListener("click",this._boundYearClickEvent),this.element.querySelector(".opt-date-time-picker__picker-menu--year").removeEventListener("scroll",this._boundYearScrollEvent),this.options.showTodayButton&&this.element.querySelector(".opt-date-time-picker__button--today").removeEventListener("click",this._boundTodayClickEvent),this.options.isDateOnly||(this.element.querySelector(".opt-date-time-picker__picker-menu--time-zone").removeEventListener("click",this._boundTimeZoneEvent),this.element.querySelector(".opt-date-time-picker__search-icon").removeEventListener("click",this._boundTimeZoneSearchClickEvent),this.element.querySelector(".opt-date-time-picker__search-bar").removeEventListener("input",this._boundTimeZoneSearchInputEvent)),this.element.querySelector(".opt-date-time-picker__button--save").removeEventListener("click",this._boundSaveEvent),this.element.querySelector(".opt-date-time-picker__button--cancel").removeEventListener("click",this._boundCancelEvent),this.element.remove()),this.datePicker&&this.datePicker.destroy(),this.timePicker&&this.timePicker.destroy(),this.element=null,this.inputEl=null,this._val=null,this.options=null,this.timeZoneList=null,this.datePicker=null,this.timePicker=null,this._boundControlBarEvent=null,this._boundDateTimePickerEvent=null,this._boundYearClickEvent=null,this._boundTodayClickEvent=null,this._boundTimeZoneEvent=null,this._boundTimeZoneSearchClickEvent=null,this._boundTimeZoneSearchInputEvent=null,this._boundSaveEvent=null,this._boundCancelEvent=null,this._currentMonthYear=null}},{key:"updateControlBarDisplay",value:function(){for(var e=this.element.querySelector(".opt-date-time-picker__control-bar").querySelectorAll(".opt-date-time-picker__control"),t=0,i=e.length;t<i;t++){var a=e[t],n=a.getAttribute("data-control-type");if("month-day"===n){var o=a.classList.contains("opt-date-time-picker__control--day")?"day":"month";a.innerText=this.getValProperty(o,!0)}else"time-period"===n?a.setAttribute("data-current-time-period",this.getValProperty(n)):a.innerText=this.getValProperty(n,!0)}}},{key:"changeControl",value:function(e){if("time-zone"===e||this.options.isDateOnly||this._clearTimeZoneSearch(),"time-period"===e){var t=this.element.querySelector('[data-control-type="time-period"]'),i="am"===t.getAttribute("data-current-time-period")?"pm":"am";t.setAttribute("data-current-time-period",i);var a=this._val.getHours();"am"===i?a-=12:a+=12,this._val.setHours(a)}else"hour"===e?(this.timePicker.showView("hours"),this.timePicker.resetClock()):"minute"===e&&(this.timePicker.showView("minutes"),this.timePicker.resetClock()),this.element.setAttribute("data-active-control",e),"year"!==e&&"time-zone"!==e||this.centerSelectedDropdownMenuItem(e)}},{key:"addYearMenuItems",value:function(e){var t,i=this.element.querySelector(".opt-date-time-picker__picker-menu--year"),a="";if((t=e?+i.firstElementChild.getAttribute("data-val"):+i.lastElementChild.getAttribute("data-val"))-this.yearRange<this.options.minimumYear)return{minYear:!0};if(this.options.maximumYear&&t+this.yearRange>=this.options.maximumYear)return{maxYear:!0};for(var n=1;n<=this.yearRange;n++){var o=void 0;e?a='<div class="opt-date-time-picker__picker-menu-item" data-val="'.concat(o=t+n,'">').concat(o,"</div>\n                                    ").concat(a):a+='<div class="opt-date-time-picker__picker-menu-item" data-val="'.concat(o=t-n,'">').concat(o,"</div>")}e?i.insertAdjacentHTML("afterbegin",a):i.insertAdjacentHTML("beforeend",a)}},{key:"getValProperty",value:function(e,t){var i;switch(e){case"month":case"day":case"year":case"hour":case"minute":case"time-period":i=this.constructor.getDateObjectProperty(this._val,e,t,this.options.twelveHour);break;case"time-zone":i=this._timeZone,t&&(i=this.getTimeZoneLabel(i,!0))}return i}},{key:"getTimeZoneLabel",value:function(e,t){for(var i="",a=0,n=this.timeZoneList.length;a<n;a++)if(this.timeZoneList[a].value===e){i=this.timeZoneList[a].label;break}if(i&&t){var o=i.indexOf(")");-1!==o&&(i=i.substring(o+2))}return i}},{key:"getTimeZoneOffsetValue",value:function(e){for(var t="",i=0,a=this.timeZoneList.length;i<a;i++)if(this.timeZoneList[i].value===e){t=this.timeZoneList[i].offset;break}return t}},{key:"getCurrentVisibleMonthYear",value:function(){return this._currentMonthYear}},{key:"generateGuid",value:function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},{key:"centerSelectedDropdownMenuItem",value:function(e){var t=this.element.querySelector(".opt-date-time-picker__picker-menu--".concat(e)),i=t.querySelector(".opt-date-time-picker__menu-item--active");if(i){var a=Array.prototype.slice.call(t.querySelectorAll(".opt-date-time-picker__picker-menu-item")).indexOf(i)*i.scrollHeight-(t.offsetHeight/2-i.scrollHeight/2),n=t.scrollHeight-t.offsetHeight;t.scrollTop=a<0?0:a>n?n:a}}},{key:"setCalendarDots",value:function(e,t){var i=this;if(e){if(!this._currentMonthYear||this._currentMonthYear.month!==t.month||this._currentMonthYear.year!==t.year)return;this._calendarDotDays=e}this.element.querySelectorAll(".opt-date-time-picker__day--dot").forEach((function(e){var t=e.getAttribute("data-day");i._calendarDotDays.includes(t)||e.classList.remove("opt-date-time-picker__day--dot")})),this._calendarDotDays.forEach((function(e){var t=i.element.querySelector(".opt-date-time-picker__picker--date").querySelector('[data-day="'.concat(e,'"]'));t&&t.classList.add("opt-date-time-picker__day--dot")}))}},{key:"updateCalendarDate",value:function(e){this.options.isDateOnly&&e instanceof Date&&(this._val.setFullYear(e.getFullYear()),this._val.setMonth(e.getMonth()),this._val.setDate(e.getDate()),this.updateControlBarDisplay(),this._updateSelectedYear(e.getFullYear()),this._silenceSelectionEvents=!0,this.datePicker.setDate(e),this._silenceSelectionEvents=!1)}},{key:"_buildAndAppendPickerMarkup",value:function(){var e=document.createElement("template"),t=this._generateDateControlMarkup(),i=this._generateYearMarkup(),a="china-date"!==this.options.dateFormat||this.options.displayPickerInline?"month-day":"year",n="",o="";if(!this.options.isDateOnly){n='<div class="opt-date-time-picker__control-section opt-date-time-picker__control-section--time">\n                <div class="opt-date-time-picker__control-group" data-control-type="hour">\n                    <div class="opt-date-time-picker__control" data-control-type="hour">'.concat(this.getValProperty("hour",!0),'</div>\n                    <div class="opt-date-time-picker__control-divider" data-control-type="hour">:</div>\n                </div>\n                <div class="opt-date-time-picker__control" data-control-type="minute">').concat(this.getValProperty("minute",!0),'</div>\n                <div class="opt-date-time-picker__control" data-control-type="time-period" data-current-time-period="').concat(this.getValProperty("time-period"),'">\n                    <span data-time-period-val="am">AM</span><span data-time-period-val="pm">PM</span>\n                </div>\n            </div>\n            <div class="opt-date-time-picker__control-section opt-date-time-picker__control-section--time-zone">\n                <div class="opt-date-time-picker__control" data-control-type="time-zone">').concat(this.getValProperty("time-zone",!0),"</div>\n            </div>");var r=this._generateTimeZoneMarkup();o='<div class="opt-date-time-picker__picker opt-date-time-picker__picker--time-zone" data-picker-menu-type="time-zone">\n                <div class="opt-date-time-picker__picker-header-section">\n                    <div class="opt-date-time-picker__title">TIME ZONE</div>\n                    <div class="opt-date-time-picker__search">\n                        <div class="opt-date-time-picker__search-bar-animation-container">\n                            <div class="opt-date-time-picker__search-bar-container">\n                                <input type="text" placeholder="Search timezone..." class="browser-default opt-date-time-picker__search-bar"/>\n                                <img src="https://app.ontraport.com/images/close_x.png" class="opt-date-time-picker__search-clear"/>\n                            </div>\n                        </div>\n                        <img src="https://app.ontraport.com/images/search_black.png" class="opt-date-time-picker__search-icon opt-date-time-picker__search-icon--open"/>\n                        <img src="https://app.ontraport.com/images/search_grey.png" class="opt-date-time-picker__search-icon opt-date-time-picker__search-icon--closed"/>\n                    </div>\n                </div>\n                <div class="opt-date-time-picker__picker-menu opt-date-time-picker__picker-menu--time-zone">\n                    '.concat(r,"\n                </div>\n            </div>")}var s="";this.options.showTodayButton&&(s='<button class="opt-date-time-picker__button--today">Today</button>'),e.innerHTML='<div class="opt-date-time-picker" data-active-control="'.concat(a,'">\n            <div class="opt-date-time-picker__control-bar">\n                <div class="opt-date-time-picker__control-section opt-date-time-picker__control-section--date">\n                    ').concat(t,"\n                </div>\n                ").concat(n,"\n                ").concat(s,'\n            </div>\n            <div class="opt-date-time-picker__picker-section">\n                <div class="opt-date-time-picker__materialize-section">\n                    <div class="opt-date-time-picker__title opt-date-time-picker__title--hour">HOUR</div>\n                    <div class="opt-date-time-picker__title opt-date-time-picker__title--minute">MINUTE</div>\n                    <div class="opt-date-time-picker__picker opt-date-time-picker__picker--date opt-materialize-namespace"></div>\n                    <div class="opt-date-time-picker__picker opt-date-time-picker__picker--time"></div>\n                    \x3c!-- These inputs are hidden don\'t actually do anything, they are just used to initialize the pickers --\x3e\n                    <input class="opt-date-time-picker__input--date">\n                    <input class="opt-date-time-picker__input--time">\n                </div>\n                <div class="opt-date-time-picker__picker opt-date-time-picker__picker--year" data-picker-menu-type="year">\n                    <div class="opt-date-time-picker__title">YEAR</div>\n                    <div class="opt-date-time-picker__picker-menu opt-date-time-picker__picker-menu--year">\n                        ').concat(i,"\n                    </div>\n                </div>\n                ").concat(o,'\n            </div>\n            <div class="opt-date-time-picker__buttons">\n                <div class="opt-date-time-picker__button opt-date-time-picker__button--cancel">CANCEL</div>\n                <div class="opt-date-time-picker__button opt-date-time-picker__button--save">SAVE</div>\n            </div>\n        </div>');var c=e.content.cloneNode(!0),l=c.children[0];if(this.options.displayPickerInline)this.inputEl.append(c);else{var d=this.getDialog();d?d.querySelector(".op-dialog__content").append(c):document.body.append(c)}return l}},{key:"_generateDateControlMarkup",value:function(){var e='<div class="opt-date-time-picker__control opt-date-time-picker__control--month" data-control-type="month-day">'.concat(this.getValProperty("month",!0),"</div>"),t='<div class="opt-date-time-picker__control-divider" data-control-type="month-day">/</div>',i='<div class="opt-date-time-picker__control opt-date-time-picker__control--day" data-control-type="month-day">'.concat(this.getValProperty("day",!0),"</div>"),a='<div class="opt-date-time-picker__control-divider" data-control-type="year">/</div>',n='<div class="opt-date-time-picker__control" data-control-type="year">'.concat(this.getValProperty("year"),"</div>");return"euro-date"===this.options.dateFormat?'<div class="opt-date-time-picker__control-group" data-control-type="month-day">\n                                        '.concat(i).concat(t).concat(e,'\n                                    </div>\n                                    <div class="opt-date-time-picker__control-group" data-control-type="year">\n                                        ').concat(a).concat(n,"\n                                    </div>"):"china-date"===this.options.dateFormat?'<div class="opt-date-time-picker__control-group" data-control-type="year">\n                                        '.concat(n).concat(a,'\n                                    </div>\n                                    <div class="opt-date-time-picker__control-group" data-control-type="month-day">\n                                        ').concat(e).concat(t).concat(i,"\n                                    </div>\n                                    "):'<div class="opt-date-time-picker__control-group" data-control-type="month-day">\n                                        '.concat(e).concat(t).concat(i,'\n                                    </div>\n                                    <div class="opt-date-time-picker__control-group" data-control-type="year">\n                                        ').concat(a).concat(n,"\n                                    </div>")}},{key:"_generateYearMarkup",value:function(){for(var e=this.getValProperty("year"),t='<div class="opt-date-time-picker__picker-menu-item opt-date-time-picker__menu-item--active" data-val="'.concat(e,'">').concat(e,"</div>"),i=1;i<=this.yearRange;i++)t='<div class="opt-date-time-picker__picker-menu-item" data-val="'.concat(e+i,'">').concat(e+i,"</div>\n                                ").concat(t),e-i>=this.options.minimumYear&&(t="".concat(t,' <div class="opt-date-time-picker__picker-menu-item" data-val="').concat(e-i,'">').concat(e-i,"</div>"));return t}},{key:"_generateTimeZoneMarkup",value:function(){for(var e="",t=0,i=this.timeZoneList.length;t<i;t++){var a=this.timeZoneList[t];e+='<div class="opt-date-time-picker__picker-menu-item" data-val="'.concat(a.value,'">').concat(a.label,"</div>")}return e}},{key:"_initDatePicker",value:function(){this.options.addCalendarDots&&(this._currentMonthYear={month:this._val.getMonth(),year:this._val.getFullYear()});var e=Object.assign({format:"mm/dd/yyyy",defaultDate:this._val,setDefaultDate:!0,container:this.element.querySelector(".opt-date-time-picker__picker--date"),i18n:{done:"Save",weekdaysAbbrev:["Su","Mo","Tu","We","Th","Fr","Sa"]},onOpen:function(){this.modal.open=function(){},this.modal.close=function(){},this.modal.$el.css("display","block")},onClose:function(){this.modal.$el.css("display","")},onDraw:function(){if(this.options.addCalendarDots&&this.datePicker&&this._currentMonthYear){var e=this.datePicker.calendars[0];this._currentMonthYear&&e.month===this._currentMonthYear.month&&e.year===this._currentMonthYear.year?this._calendarDotDays&&this.setCalendarDots():(this._currentMonthYear=Object.assign({},e),this.inputEl?this.inputEl.dispatchEvent(new CustomEvent("dateTimeMonthChanged",{detail:this._currentMonthYear,bubbles:!0})):this.element.dispatchEvent(new CustomEvent("dateTimeMonthChanged",{detail:this._currentMonthYear,bubbles:!0})))}}.bind(this),onSelect:function(e){this._silenceSelectionEvents||(this.options.isDateOnly&&e.setHours(12,0,0,0),this.element.dispatchEvent(new CustomEvent("dateTimePickerSelect",{detail:{selectType:"date",date:e},bubbles:!0})))}.bind(this)},this.options);return M.Datepicker.init(this.element.querySelector(".opt-date-time-picker__input--date"),e)}},{key:"_initTimePicker",value:function(){var e=Object.assign({i18n:{cancel:"Cancel",done:"Save"},container:".".concat(this.guid," .opt-date-time-picker__picker--time"),twelveHour:!0,defaultTime:this.getValProperty("hour",!0)+":"+this.getValProperty("minute",!0),duration:2,onSelect:function(e,t){var i=this.el.closest(".opt-date-time-picker");i&&"hour"===i.getAttribute("data-active-control")&&i.setAttribute("data-active-control","minute"),i.dispatchEvent(new CustomEvent("dateTimePickerSelect",{detail:{selectType:"time",hour:e,minute:t},bubbles:!0}))}},this.options),t=M.Timepicker.init(this.element.querySelector(".opt-date-time-picker__input--time"),e);return t.modal.open=function(){},t.modal.close=function(){},t.modal.$el.css("display","block"),t}},{key:"_initializeInternalValues",value:function(){if(this.options.initialTimeZone?this._timeZone=this.options.initialTimeZone:this._timeZone=Intl.DateTimeFormat().resolvedOptions().timeZone,this.options.initialValue){if(!this.options.isDateOnly){var e=this.getTimeZoneOffsetValue(Intl.DateTimeFormat().resolvedOptions().timeZone),t=this.getTimeZoneOffsetValue(this._timeZone);if(e!==t){var i=t-e;this.options.initialValue=this.options.initialValue+60*i*60*1e3}}this._val=new Date(this.options.initialValue)}else this._val=new Date;this._val.setSeconds(0),this._val.setMilliseconds(0)}},{key:"_clearTimeZoneSearch",value:function(){var e=this.element.querySelector(".opt-date-time-picker__search");e.classList.contains("opt-date-time-picker__search--open")&&(this.element.querySelector(".opt-date-time-picker__search-bar").value="",e.classList.remove("opt-date-time-picker__search--open"),Array.prototype.slice.call(this.element.querySelectorAll(".opt-date-time-picker__picker-menu--time-zone .opt-date-time-picker__picker-menu-item.opt-date-time-picker__picker-menu-item--hidden")).forEach((function(e){e.classList.remove("opt-date-time-picker__picker-menu-item--hidden")})))}},{key:"_setTimeActiveStates",value:function(){Array.prototype.slice.call(this.element.querySelectorAll(".timepicker-tick.opt-time--active")).forEach((function(e){e.classList.remove("opt-time--active")}));var e=this.getValProperty("hour",!0),t=this.getValProperty("minute",!0),i=this.element.querySelector('.timepicker-hours .timepicker-tick[data-time-value="'.concat(e,'"]')),a=this.element.querySelector('.timepicker-minutes .timepicker-tick[data-time-value="'.concat(t,'"]'));i&&i.classList.add("opt-time--active"),a&&a.classList.add("opt-time--active")}},{key:"_updateSelectedYear",value:function(e){var t=this.element.querySelector(".opt-date-time-picker__picker-menu--year"),i=t.querySelector(".opt-date-time-picker__menu-item--active");i&&i.classList.remove("opt-date-time-picker__menu-item--active");var a=t.querySelector('[data-val="'+e+'"]');a&&a.classList.add("opt-date-time-picker__menu-item--active")}},{key:"_bindPickerEvents",value:function(){this._boundControlBarEvent=this._controlBarClickHandler.bind(this),this._boundDateTimePickerEvent=this._dateTimePickerSelectHandler.bind(this),this._boundYearClickEvent=this._yearMenuClickHandler.bind(this),this._boundYearScrollEvent=this._yearMenuScrollHandler.bind(this),this.options.showTodayButton&&(this._boundTodayClickEvent=this._todayClickHandler.bind(this)),this.options.isDateOnly||(this._boundTimeZoneEvent=this._timeZoneMenuClickHandler.bind(this),this._boundTimeZoneSearchClickEvent=this._timeZoneSearchClickHandler.bind(this),this._boundTimeZoneSearchInputEvent=this._timeZoneSearchInputHandler.bind(this)),this._boundSaveEvent=this._saveClickHandler.bind(this),this._boundCancelEvent=this._cancelClickHandler.bind(this),this.element.querySelector(".opt-date-time-picker__control-bar").addEventListener("click",this._boundControlBarEvent),this.element.addEventListener("dateTimePickerSelect",this._boundDateTimePickerEvent),this.element.querySelector(".opt-date-time-picker__picker-menu--year").addEventListener("click",this._boundYearClickEvent),this.element.querySelector(".opt-date-time-picker__picker-menu--year").addEventListener("scroll",this._boundYearScrollEvent),this.options.showTodayButton&&this.element.querySelector(".opt-date-time-picker__button--today").addEventListener("click",this._boundTodayClickEvent),this.options.isDateOnly||(this.element.querySelector(".opt-date-time-picker__picker-menu--time-zone").addEventListener("click",this._boundTimeZoneEvent),this.element.querySelector(".opt-date-time-picker__search").addEventListener("click",this._boundTimeZoneSearchClickEvent),this.element.querySelector(".opt-date-time-picker__search-bar").addEventListener("input",this._boundTimeZoneSearchInputEvent)),this.element.querySelector(".opt-date-time-picker__button--save").addEventListener("click",this._boundSaveEvent),this.element.querySelector(".opt-date-time-picker__button--cancel").addEventListener("click",this._boundCancelEvent)}},{key:"_controlBarClickHandler",value:function(e){e.target.hasAttribute("data-control-type")&&this.changeControl(e.target.getAttribute("data-control-type"))}},{key:"_dateTimePickerSelectHandler",value:function(e){var t=e.detail;if(!t.preventInternalSelectHandler){if("date"===t.selectType){var i=t.date.getFullYear();this._val.setFullYear(i),this._val.setDate(1),this._val.setMonth(t.date.getMonth()),this._val.setDate(t.date.getDate()),this._updateSelectedYear(i),this.options.disableAutoControlChange||("china-date"!==this.options.dateFormat||this.options.isDateOnly?"china-date"!==this.options.dateFormat&&this.changeControl("year"):this.changeControl("hour"))}else if("time"===t.selectType){if(this.options.twelveHour){var a=this.getValProperty("time-period");"am"===a&&12===t.hour?t.hour=0:"pm"===a&&12!==t.hour&&(t.hour+=12)}this._val.setHours(t.hour,t.minute,0,0),this._setTimeActiveStates()}this.updateControlBarDisplay(),this.options.isDateOnly&&!this.options.displayPickerInline&&"china-date"===this.options.dateFormat&&this.save()}}},{key:"_yearMenuClickHandler",value:function(e){if(e.target.classList.contains("opt-date-time-picker__picker-menu-item")){var t=+e.target.getAttribute("data-val");this._val.setFullYear(t),this._silenceSelectionEvents=!0,this.datePicker.setDate(this._val),this._silenceSelectionEvents=!1,this._updateSelectedYear(t),this.updateControlBarDisplay(),this.options.disableAutoControlChange||("china-date"===this.options.dateFormat?this.changeControl("month-day"):this.options.isDateOnly||this.changeControl("hour")),this.element.dispatchEvent(new CustomEvent("dateTimePickerYearSelect",{detail:{selectType:"year",date:this._val},bubbles:!0})),this.options.isDateOnly&&!this.options.displayPickerInline&&"china-date"!==this.options.dateFormat&&this.save()}}},{key:"_yearMenuScrollHandler",value:function(e){if(0===e.target.scrollTop){var t=this.addYearMenuItems(!0);if(t&&t.maxYear)return;var i=e.target.firstElementChild.scrollHeight;e.target.scrollTop=i*this.yearRange}else e.target.scrollTop+e.target.offsetHeight>e.target.scrollHeight-5&&this.addYearMenuItems()}},{key:"_todayClickHandler",value:function(e){this.updateCalendarDate(new Date),this.element.dispatchEvent(new CustomEvent("dateTimePickerSelect",{detail:{selectType:"date",date:this._val,preventInternalSelectHandler:!0,isTodayClick:!0},bubbles:!0}))}},{key:"_timeZoneMenuClickHandler",value:function(e){if(e.target.classList.contains("opt-date-time-picker__picker-menu-item")){this._timeZone=e.target.getAttribute("data-val");var t=e.target.closest(".opt-date-time-picker__picker-menu--time-zone").querySelector(".opt-date-time-picker__menu-item--active");t&&t.classList.remove("opt-date-time-picker__menu-item--active"),e.target.classList.add("opt-date-time-picker__menu-item--active"),this.updateControlBarDisplay()}}},{key:"_timeZoneSearchClickHandler",value:function(e){e.target.classList.contains("opt-date-time-picker__search-icon--closed")?(e.currentTarget.classList.add("opt-date-time-picker__search--open"),e.currentTarget.querySelector(".opt-date-time-picker__search-bar").focus()):e.target.classList.contains("opt-date-time-picker__search-clear")&&(this._clearTimeZoneSearch(),this.centerSelectedDropdownMenuItem("time-zone"))}},{key:"_timeZoneSearchInputHandler",value:function(e){var t=e.target.value;Array.prototype.slice.call(this.element.querySelectorAll(".opt-date-time-picker__picker-menu--time-zone .opt-date-time-picker__picker-menu-item")).forEach((function(e){e.innerText.toLowerCase().includes(t.toLowerCase())?e.classList.remove("opt-date-time-picker__picker-menu-item--hidden"):e.classList.add("opt-date-time-picker__picker-menu-item--hidden")}))}},{key:"_saveClickHandler",value:function(e){this.save()}},{key:"_cancelClickHandler",value:function(e){this.inputEl.dispatchEvent(new CustomEvent("dateTimePickerCancel",{bubbles:!0})),this.destroy()}}])&&r(t.prototype,i),a&&r(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();s.SaveEventDispatch="dateTimePickerSave",s.CancelEventDispatch="dateTimePickerCancel";const c=s},650:(e,t,i)=>{"use strict";i.r(t)}},t={};function i(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,i),o.exports}return i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i(952)})()));