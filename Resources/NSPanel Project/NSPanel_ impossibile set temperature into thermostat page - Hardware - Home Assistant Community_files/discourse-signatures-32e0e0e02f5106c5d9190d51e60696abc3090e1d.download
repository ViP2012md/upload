define("discourse/plugins/discourse-signatures/discourse/initializers/extend-for-signatures",["exports","@ember/utils","discourse/lib/plugin-api","discourse/widgets/raw-html"],(function(e,s,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"extend-for-signatures",initialize(e){const r=e.lookup("service:site-settings")
r.signatures_enabled&&((0,t.withPluginApi)("0.1",(e=>function(e,t){e.includePostAttributes("user_signature"),e.decorateWidget("post-contents:after-cooked",(r=>{const a=r.attrs
if((0,s.isEmpty)(a.user_signature))return
const l=e.getCurrentUser()
let n
return n=l?l.get("custom_fields.see_signatures")??t.signatures_visible_by_default:t.signatures_visible_by_default,n?t.signatures_advanced_mode?[r.h("hr"),r.h("div",new i.default({html:`<div class='user-signature'>${a.user_signature}</div>`}))]:[r.h("hr"),r.h("img.signature-img",{attributes:{src:a.user_signature}})]:void 0}))}(e,r))),(0,t.withPluginApi)("0.1",(e=>function(e){e.modifyClass("controller:preferences/profile",{pluginId:"discourse-signatures",actions:{save(){this.set("model.custom_fields.see_signatures",this.get("model.see_signatures")),this.get("saveAttrNames").push("custom_fields"),this._super()}}})}(e))))}}})),define("discourse/plugins/discourse-signatures/discourse/templates/connectors/user-custom-preferences/signature-preferences",["exports","ember-this-fallback/deprecations-helper","@ember/template-factory"],(function(e,s,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createTemplateFactory)({id:"78frjVm7",block:'[[[41,[30,0,["siteSettings","signatures_enabled"]],[[[1,"  "],[10,0],[14,0,"control-group signatures"],[12],[1,"\\n    "],[10,"label"],[14,0,"control-label"],[12],[1,[28,[35,1],["signatures.enable_signatures"],null]],[13],[1,"\\n    "],[10,0],[14,0,"controls"],[12],[1,"\\n      "],[10,"label"],[14,0,"checkbox-label"],[12],[1,"\\n        "],[8,[39,2],null,[["@type","@checked"],["checkbox",[30,0,["model","see_signatures"]]]],null],[1,"\\n        "],[1,[28,[35,1],["signatures.show_signatures"],null]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n  "],[10,0],[14,0,"control-group signatures"],[12],[1,"\\n    "],[10,"label"],[14,0,"control-label"],[12],[1,[28,[35,1],["signatures.my_signature"],null]],[13],[1,"\\n    "],[10,0],[14,0,"controls bio-composer input-xxlarge"],[12],[1,"\\n"],[41,[30,0,["siteSettings","signatures_advanced_mode"]],[[[1,"        "],[8,[39,3],null,[["@value","@showUploadModal"],[[30,0,["model","custom_fields","signature_raw"]],"showUploadModal"]],null],[1,"\\n"]],[]],[[[1,"        "],[10,"label"],[14,0,"text-label"],[12],[1,"\\n          "],[8,[39,2],[[24,0,"input-xxlarge"]],[["@type","@value"],["text",[30,0,["model","custom_fields","signature_url"]]]],null],[1,"\\n        "],[13],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]],null],[1,[28,[32,0],["[[\\"The `siteSettings` property path was used in the `discourse/plugins/discourse-signatures/discourse/templates/connectors/user-custom-preferences/signature-preferences.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.siteSettings}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-signatures/discourse/templates/connectors/user-custom-preferences/signature-preferences.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `siteSettings` property path was used in the `discourse/plugins/discourse-signatures/discourse/templates/connectors/user-custom-preferences/signature-preferences.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.siteSettings}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-signatures/discourse/templates/connectors/user-custom-preferences/signature-preferences.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-signatures/discourse/templates/connectors/user-custom-preferences/signature-preferences.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]]"],null]]],[],false,["if","i18n","input","d-editor"]]',moduleName:"discourse/plugins/discourse-signatures/discourse/templates/connectors/user-custom-preferences/signature-preferences.hbs",scope:()=>[s.default],isStrictMode:!1})}))

//# sourceMappingURL=discourse-signatures-a1ff86c3e7276ecc7fe165da4e931ddba0bf1702309b9a243d23c4eb9d86ab1b.map
//!

;
