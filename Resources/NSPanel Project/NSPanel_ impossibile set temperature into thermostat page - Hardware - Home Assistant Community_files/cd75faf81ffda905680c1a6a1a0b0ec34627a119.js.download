"require"in window&&require("discourse/lib/theme-settings-store").registerSettings(14,{show_description:!0,show_mobile:!0,show_subcategory:!0,hide_if_no_description:!0,show_category_logo:!1,align_text:"center",exceptions:"",categories:"",plugin_outlet:"below-site-header",show_category_icon:!1,override_category_icon_color:!1}),"define"in window&&define("discourse/theme-14/discourse/components/category-banner",["exports","@ember/component","discourse/models/category","@glimmer/component","@glimmer/tracking","@ember/object","@ember/service","@ember/template","@ember/application","@ember/template-factory"],(function(e,t,i,r,o,n,a,l,s,c){"use strict"
var u,g,d,h,y,p,b,m,f
function w(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function v(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance")
return i}function z(e,t,i,r,o){var n={}
return Object.keys(r).forEach((function(e){n[e]=r[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const C=require("discourse/lib/theme-settings-store").getObjectForTheme(14),P=(0,c.createTemplateFactory)({id:null,block:'[[[41,[30,0,["shouldRender"]],[[[1,"  "],[11,0],[16,0,[29,["category-title-header\\n      ",[52,[30,0,["category"]],[28,[37,1],["category-banner-",[30,0,["category","slug"]]],null]]]]],[16,5,[52,[30,0,["category"]],[30,0,["safeStyle"]]]],[4,[38,2],[[30,0,["getCategory"]]],null],[4,[38,3],[[30,0,["getCategory"]],[30,0,["isVisible"]]],null],[4,[38,4],[[30,0,["teardownComponent"]]],null],[12],[1,"\\n"],[41,[30,0,["category"]],[[[1,"      "],[10,0],[14,0,"category-title-contents"],[12],[1,"\\n"],[41,[28,[37,5],[14,"show_category_logo"],null],[[[1,"          "],[8,[39,6],null,[["@category"],[[30,0,["category"]]]],null],[1,"\\n"]],[]],null],[1,"        "],[10,"h1"],[14,0,"category-title"],[12],[1,"\\n"],[41,[28,[37,7],[[28,[37,5],[14,"show_category_icon"],null],[30,0,["category"]]],null],[[[41,[30,0,["hasIconComponent"]],[[[1,"              "],[8,[39,8],null,[["@category"],[[30,0,["category"]]]],null],[1,"\\n"]],[]],[[[1,"              "],[1,[30,0,["consoleWarn"]]],[1,"\\n"]],[]]]],[]],null],[41,[30,0,["category","read_restricted"]],[[[1,"            "],[1,[28,[35,9],["lock"],null]],[1,"\\n"]],[]],null],[1,"          "],[1,[30,0,["category","name"]]],[1,"\\n          "],[8,[39,10],null,[["@name"],["category-banners-after-title"]],null],[1,"\\n        "],[13],[1,"\\n\\n"],[41,[30,0,["displayCategoryDescription"]],[[[1,"          "],[10,0],[14,0,"category-title-description"],[12],[1,"\\n            "],[10,0],[14,0,"cooked"],[12],[1,"\\n              "],[1,[28,[35,11],[[30,0,["category","description"]]],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n"]],[]],null]],[],false,["if","concat","did-insert","did-update","will-destroy","theme-setting","category-logo","and","category-icon","d-icon","plugin-outlet","html-safe"]]',moduleName:"discourse/components/category-banner.hbs",isStrictMode:!1})
let k=e.default=(b=new WeakSet,m=new WeakSet,f=new WeakSet,u=class extends r.default{constructor(){super(...arguments),_(this,f),_(this,m),_(this,b),w(this,"router",g,this),w(this,"site",d,this),w(this,"categoryBannerPresence",h,this),w(this,"category",y,this),w(this,"keepDuringLoadingRoute",p,this)}get hasIconComponent(){return(0,s.getOwner)(this).hasRegistration("component:category-icon")}get categorySlugPathWithID(){return this.router?.currentRoute?.params?.category_slug_path_with_id}get shouldRender(){return this.categorySlugPathWithID||this.keepDuringLoadingRoute&&this.router.currentRoute.name.includes("loading")}get isVisible(){return!!this.categorySlugPathWithID||!!this.router.currentRoute.name.includes("loading")&&this.keepDuringLoadingRoute}get safeStyle(){return(0,l.htmlSafe)(`background-color: #${this.category.color}; color: #${this.category.text_color};`)}get consoleWarn(){return console.warn("The category banners component is trying to use the category icons component, but it is not available. https://meta.discourse.org/t/category-icons/104683")}get displayCategoryDescription(){return C.show_description&&this.category.description?.length>0}teardownComponent(){document.body.classList.remove("category-header"),this.category=null,this.categoryBannerPresence.setTo(!1)}getCategory(){if(!this.isVisible)return
if(this.categorySlugPathWithID)this.category=i.default.findBySlugPathWithID(this.categorySlugPathWithID),this.categoryBannerPresence.setTo(!0),this.keepDuringLoadingRoute=!0
else if(!this.router.currentRoute.name.includes("loading"))return this.keepDuringLoadingRoute=!1
const e=v(this,b,j).call(this,C.categories),t=v(this,m,O).call(this,C.exceptions).includes(this.category?.name.toLowerCase()),r=v(this,f,D).call(this,e),o=this.site.mobileView&&!C.show_mobile,n=this.category?.parentCategory&&!C.show_subcategory,a=C.hide_if_no_description&&!this.category?.description_text
!r||t||a||n||o?(document.body.classList.remove("category-header"),this.categoryBannerPresence.setTo(!1)):document.body.classList.add("category-header")}},g=z(u.prototype,"router",[a.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=z(u.prototype,"site",[a.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=z(u.prototype,"categoryBannerPresence",[a.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=z(u.prototype,"category",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=z(u.prototype,"keepDuringLoadingRoute",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z(u.prototype,"teardownComponent",[n.action],Object.getOwnPropertyDescriptor(u.prototype,"teardownComponent"),u.prototype),z(u.prototype,"getCategory",[n.action],Object.getOwnPropertyDescriptor(u.prototype,"getCategory"),u.prototype),u)
function j(e){const t={}
return e.split("|").forEach((e=>{(e=e.split(":"))[0]&&(t[e[0].toLowerCase()]=e[1]?e[1].toLowerCase():"all")})),t}function O(e){return e.split("|").filter(Boolean).map((e=>e.toLowerCase()))}function D(e){const t=this.category?.name.toLowerCase(),i=this.category?.parentCategory?this.category.parentCategory.name.toLowerCase():null
return 0===Object.keys(e).length||"all"===e[t]||"no_sub"===e[t]||this.category?.parentCategory&&("all"===e[i]||"only_sub"===e[i])}(0,t.setComponentTemplate)(P,k)})),"define"in window&&define("discourse/theme-14/discourse/initializers/discourse-category-banners",["exports","discourse/lib/api","../components/category-banner"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=require("discourse/lib/theme-settings-store").getObjectForTheme(14)
e.default=(0,t.apiInitializer)("1.13.0",(e=>{e.renderInOutlet(r.plugin_outlet,i.default)}))})),"define"in window&&define("discourse/theme-14/discourse/services/category-banner-presence",["exports","@ember/service","@glimmer/tracking"],(function(e,t,i){"use strict"
var r,o
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
require("discourse/lib/theme-settings-store").getObjectForTheme(14)
e.default=(r=class extends t.default{constructor(){var e,t,i,r
super(...arguments),e=this,t="isPresent",r=this,(i=o)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}setTo(e){this.isPresent=e}},n=r.prototype,a="isPresent",l=[i.tracked],s={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}},u={},Object.keys(s).forEach((function(e){u[e]=s[e]})),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=l.slice().reverse().reduce((function(e,t){return t(n,a,e)||e}),u),c&&void 0!==u.initializer&&(u.value=u.initializer?u.initializer.call(c):void 0,u.initializer=void 0),void 0===u.initializer&&(Object.defineProperty(n,a,u),u=null),o=u,r)
var n,a,l,s,c,u}))

//# sourceMappingURL=cd75faf81ffda905680c1a6a1a0b0ec34627a119.map?__ws=community.home-assistant.io
